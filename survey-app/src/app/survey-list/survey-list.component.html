
<section class="container">
<mat-card>
  <div class="row">
	<div class="col-md-8">
	  <mat-form-field>
	    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
	  </mat-form-field>		
	</div>
    <div class="col-md-4">
	  <a mat-button color="primary" routerLink='/surveys/add'>Add Survey</a>
	</div>
  </div>
  <div class="row">
    <div class="col-md-12">
	  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
	    <!-- Name Column -->
	    <ng-container matColumnDef="itemName">
	      <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
	      <td mat-cell *matCellDef="let element"> {{element.itemName}} </td>
	    </ng-container>

	    <!-- Status Column -->
	    <ng-container matColumnDef="status">
	      <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
	      <td mat-cell *matCellDef="let element"> {{element.status}} </td>
	    </ng-container>

	    <!-- Project Name Column -->
	    <ng-container matColumnDef="projectName">
	      <th mat-header-cell *matHeaderCellDef mat-sort-header> Project </th>
	      <td mat-cell *matCellDef="let element"> {{element.projectName}} </td>
	    </ng-container>

	    <!-- Recipient Column -->
	    <ng-container matColumnDef="recipient">
	      <th mat-header-cell *matHeaderCellDef mat-sort-header> Recipient </th>
	      <td mat-cell *matCellDef="let element"> {{element.recipient}} </td>
	    </ng-container>

    	  <!-- Action Column -->
	    <ng-container matColumnDef="action">
	      <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
	      <td mat-cell *matCellDef="let element"> 
	          <a mat-button color="primary" *ngIf="element.status != 'Draft'" (click)="viewSurvey(element)">View</a> 
	          <a mat-button color="primary" *ngIf="element.status === 'Draft'" (click)="editSurvey(element)">Edit</a>
	    	  <a mat-button color="primary" *ngIf="element.status === 'Sent'" (click)="resendSurvey(element)">Re-Send</a>
	      </td>
	    </ng-container>

	    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
	    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
	  </table>

   	  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
	</div>
  </div>
</mat-card>
</section>
